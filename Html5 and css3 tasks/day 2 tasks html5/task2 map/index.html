<html>
  <head>
    <title>Simple Markers</title>
    <style>

      #map {
        height: 100%;
      }

      /*
       * Optional: Makes the sample page fill the window.
       */
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>

    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=weekly"
      defer
    ></script>

    <script>
                    function initMap(x,y) {
              const myLatLng = { lat: x, lng:y };
              const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 4,
                center: myLatLng,
              });

              new google.maps.Marker({
                position: myLatLng,
                map,
                title: "Hello World!",
              });
            }

            window.initMap = initMap;
            window.navigator.geolocation.getCurrentPosition(sucess, error); ;


      function sucess(posobj){
          console.log(posobj.coords.latitude);
            console.log(posobj.coords.longitude);
            initMap(posobj.coords.latitude,posobj.coords.longitude);
      }
      function error(errorobj){
         if(errorobj.code==1){
             console.log("User denied the request for Geolocation.");
         }
         else if(errorobj.code==2){
             console.log("Location information is unavailable.");
         }
         else if(errorobj.code==3){
             console.log("The request to get user location timed out.");
         }
         else{
             console.log("An unknown error occurred.");
         }
      }
    </script>
  </body>
</html>
